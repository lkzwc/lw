{"version":3,"file":"community.js","sources":["pages/community/community.vue","pages/community/community.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 顶部搜索栏 -->\n\t\t<view class=\"search-bar\">\n\t\t\t<uni-search-bar \n\t\t\t\t@input=\"onSearchInput\" \n\t\t\t\tplaceholder=\"搜索帖子内容...\" \n\t\t\t\t:focus=\"false\" \n\t\t\t\tbg-color=\"#f5f5f5\"\n\t\t\t\tcancel-button=\"none\">\n\t\t\t</uni-search-bar>\n\t\t</view>\n\n\t\t<!-- 分类标签 -->\n\t\t<view class=\"category-tabs\">\n\t\t\t<scroll-view scroll-x=\"true\" class=\"scroll-tabs\">\n\t\t\t\t<view class=\"tabs-container\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(item, index) in categoryList\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"tab-item\"\n\t\t\t\t\t\t:class=\"{ active: currentCategory === item.id }\"\n\t\t\t\t\t\t@tap=\"switchCategory(item.id)\">\n\t\t\t\t\t\t{{ item.name }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\n\t\t<!-- 帖子列表 -->\n\t\t<view class=\"post-list\">\n\t\t\t<view v-for=\"(post, index) in postList\" :key=\"post.id\" class=\"post-item\" @tap=\"goToDetail(post)\">\n\t\t\t\t<!-- 用户信息 -->\n\t\t\t\t<view class=\"post-header\">\n\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t<image :src=\"post.avatar\" class=\"user-avatar\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"user-details\">\n\t\t\t\t\t\t\t<text class=\"username\">{{ post.username }}</text>\n\t\t\t\t\t\t\t<text class=\"post-time\">{{ post.createTime }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"post-category\">\n\t\t\t\t\t\t<uni-tag :text=\"post.categoryName\" type=\"primary\" size=\"small\"></uni-tag>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 帖子内容 -->\n\t\t\t\t<view class=\"post-content\">\n\t\t\t\t\t<text class=\"post-title\">{{ post.title }}</text>\n\t\t\t\t\t<text class=\"post-desc\" v-if=\"post.content\">{{ post.content }}</text>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 图片展示 -->\n\t\t\t\t\t<view class=\"post-images\" v-if=\"post.images && post.images.length > 0\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\tv-for=\"(img, imgIndex) in post.images.slice(0, 3)\" \n\t\t\t\t\t\t\t:key=\"imgIndex\"\n\t\t\t\t\t\t\t:src=\"img\" \n\t\t\t\t\t\t\tclass=\"post-image\"\n\t\t\t\t\t\t\t:class=\"{ 'single-image': post.images.length === 1 }\"\n\t\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t\t\t@tap.stop=\"previewImage(post.images, imgIndex)\">\n\t\t\t\t\t\t</image>\n\t\t\t\t\t\t<view v-if=\"post.images.length > 3\" class=\"more-images\">\n\t\t\t\t\t\t\t<text>+{{ post.images.length - 3 }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 互动区域 -->\n\t\t\t\t<view class=\"post-actions\">\n\t\t\t\t\t<view class=\"action-item\" @tap.stop=\"toggleLike(post)\">\n\t\t\t\t\t\t<uni-icons \n\t\t\t\t\t\t\t:type=\"post.isLiked ? 'heart-filled' : 'heart'\" \n\t\t\t\t\t\t\t:color=\"post.isLiked ? '#ff6b6b' : '#999'\" \n\t\t\t\t\t\t\tsize=\"18\">\n\t\t\t\t\t\t</uni-icons>\n\t\t\t\t\t\t<text class=\"action-text\" :class=\"{ liked: post.isLiked }\">{{ post.likeCount || 0 }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action-item\" @tap.stop=\"goToDetail(post)\">\n\t\t\t\t\t\t<uni-icons type=\"chatbubble\" color=\"#999\" size=\"18\"></uni-icons>\n\t\t\t\t\t\t<text class=\"action-text\">{{ post.commentCount || 0 }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action-item\" @tap.stop=\"sharePost(post)\">\n\t\t\t\t\t\t<uni-icons type=\"redo\" color=\"#999\" size=\"18\"></uni-icons>\n\t\t\t\t\t\t<text class=\"action-text\">分享</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 加载更多 -->\n\t\t\t<uni-load-more :status=\"loadStatus\" @clickLoadMore=\"loadMore\"></uni-load-more>\n\t\t</view>\n\n\t\t<!-- 发布按钮 -->\n\t\t<view class=\"fab-button\" @tap=\"goToPublish\">\n\t\t\t<uni-icons type=\"plus\" color=\"white\" size=\"24\"></uni-icons>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tonMounted,\n\t\treactive,\n\t\tref\n\t} from 'vue';\n\n\tconst currentCategory = ref('all');\n\tconst searchKeyword = ref('');\n\tconst loadStatus = ref('more'); // more, loading, noMore\n\n\t// 分类数据\n\tconst categoryList = reactive([\n\t\t{ id: 'all', name: '全部' },\n\t\t{ id: 'tech', name: '技术' },\n\t\t{ id: 'life', name: '生活' },\n\t\t{ id: 'study', name: '学习' },\n\t\t{ id: 'entertainment', name: '娱乐' },\n\t\t{ id: 'health', name: '健康' }\n\t]);\n\n\t// 帖子列表数据\n\tconst postList = reactive([\n\t\t{\n\t\t\tid: 1,\n\t\t\tusername: '技术达人',\n\t\t\tavatar: 'https://via.placeholder.com/60x60/4A90E2/FFFFFF?text=U1',\n\t\t\tcreateTime: '2小时前',\n\t\t\tcategoryName: '技术',\n\t\t\ttitle: 'Vue 3 Composition API 最佳实践',\n\t\t\tcontent: '分享一些在实际项目中使用 Vue 3 Composition API 的经验和技巧，希望对大家有帮助。',\n\t\t\timages: [\n\t\t\t\t'https://via.placeholder.com/200x150/4A90E2/FFFFFF?text=Code1',\n\t\t\t\t'https://via.placeholder.com/200x150/50C878/FFFFFF?text=Code2'\n\t\t\t],\n\t\t\tlikeCount: 24,\n\t\t\tcommentCount: 8,\n\t\t\tisLiked: false\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\tusername: '生活家',\n\t\t\tavatar: 'https://via.placeholder.com/60x60/50C878/FFFFFF?text=U2',\n\t\t\tcreateTime: '5小时前',\n\t\t\tcategoryName: '生活',\n\t\t\ttitle: '周末的美好时光',\n\t\t\tcontent: '和朋友一起去公园散步，享受阳光和自然的美好。生活中的小确幸总是让人感到温暖。',\n\t\t\timages: [\n\t\t\t\t'https://via.placeholder.com/200x150/50C878/FFFFFF?text=Life1'\n\t\t\t],\n\t\t\tlikeCount: 15,\n\t\t\tcommentCount: 3,\n\t\t\tisLiked: true\n\t\t},\n\t\t{\n\t\t\tid: 3,\n\t\t\tusername: '学习者',\n\t\t\tavatar: 'https://via.placeholder.com/60x60/FF6B6B/FFFFFF?text=U3',\n\t\t\tcreateTime: '1天前',\n\t\t\tcategoryName: '学习',\n\t\t\ttitle: '如何高效学习新技能',\n\t\t\tcontent: '分享一些学习方法和技巧，包括时间管理、记忆方法等。',\n\t\t\timages: [],\n\t\t\tlikeCount: 32,\n\t\t\tcommentCount: 12,\n\t\t\tisLiked: false\n\t\t},\n\t\t{\n\t\t\tid: 4,\n\t\t\tusername: '健康专家',\n\t\t\tavatar: 'https://via.placeholder.com/60x60/FFD700/FFFFFF?text=U4',\n\t\t\tcreateTime: '2天前',\n\t\t\tcategoryName: '健康',\n\t\t\ttitle: '每日运动打卡',\n\t\t\tcontent: '坚持运动第30天！今天完成了5公里跑步和30分钟力量训练。',\n\t\t\timages: [\n\t\t\t\t'https://via.placeholder.com/200x150/FFD700/FFFFFF?text=Sport1',\n\t\t\t\t'https://via.placeholder.com/200x150/FF69B4/FFFFFF?text=Sport2',\n\t\t\t\t'https://via.placeholder.com/200x150/9370DB/FFFFFF?text=Sport3',\n\t\t\t\t'https://via.placeholder.com/200x150/32CD32/FFFFFF?text=Sport4'\n\t\t\t],\n\t\t\tlikeCount: 18,\n\t\t\tcommentCount: 6,\n\t\t\tisLiked: false\n\t\t}\n\t]);\n\n\t// 搜索输入\n\tconst onSearchInput = (value) => {\n\t\tsearchKeyword.value = value;\n\t\t// 实际项目中这里应该调用搜索接口\n\t\tconsole.log('搜索关键词:', value);\n\t};\n\n\t// 切换分类\n\tconst switchCategory = (categoryId) => {\n\t\tcurrentCategory.value = categoryId;\n\t\t// 实际项目中这里应该根据分类加载数据\n\t\tconsole.log('切换分类:', categoryId);\n\t};\n\n\t// 点赞/取消点赞\n\tconst toggleLike = (post) => {\n\t\tpost.isLiked = !post.isLiked;\n\t\tif (post.isLiked) {\n\t\t\tpost.likeCount++;\n\t\t} else {\n\t\t\tpost.likeCount--;\n\t\t}\n\t\t// 实际项目中这里应该调用点赞接口\n\t\tconsole.log('点赞操作:', post.id, post.isLiked);\n\t};\n\n\t// 分享帖子\n\tconst sharePost = (post) => {\n\t\tuni.showActionSheet({\n\t\t\titemList: ['分享到微信', '分享到朋友圈', '复制链接'],\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log('分享选择:', res.tapIndex, post.id);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '分享功能开发中',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\t// 预览图片\n\tconst previewImage = (images, current) => {\n\t\tuni.previewImage({\n\t\t\turls: images,\n\t\t\tcurrent: current\n\t\t});\n\t};\n\n\t// 跳转到帖子详情\n\tconst goToDetail = (post) => {\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/community/post-detail?id=${post.id}`\n\t\t});\n\t};\n\n\t// 跳转到发布页面\n\tconst goToPublish = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/community/publish'\n\t\t});\n\t};\n\n\t// 加载更多\n\tconst loadMore = () => {\n\t\tif (loadStatus.value === 'loading' || loadStatus.value === 'noMore') {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tloadStatus.value = 'loading';\n\t\t\n\t\t// 模拟加载数据\n\t\tsetTimeout(() => {\n\t\t\t// 实际项目中这里应该调用接口加载更多数据\n\t\t\tconsole.log('加载更多数据');\n\t\t\tloadStatus.value = 'more';\n\t\t}, 1500);\n\t};\n\n\tonMounted(() => {\n\t\tconsole.log('社区页面加载完成');\n\t\t// 初始化数据加载\n\t});\n</script>\n\n<style scoped>\n\t.container {\n\t\tbackground-color: #f8f8f8;\n\t\tmin-height: 100vh;\n\t\tpadding-bottom: 120rpx;\n\t}\n\n\t/* 搜索栏样式 */\n\t.search-bar {\n\t\tpadding: 20rpx;\n\t\tbackground-color: white;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\n\t/* 分类标签样式 */\n\t.category-tabs {\n\t\tbackground-color: white;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\n\t.scroll-tabs {\n\t\twhite-space: nowrap;\n\t}\n\n\t.tabs-container {\n\t\tdisplay: flex;\n\t\tpadding: 0 20rpx;\n\t}\n\n\t.tab-item {\n\t\tflex-shrink: 0;\n\t\tpadding: 24rpx 32rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tborder-bottom: 4rpx solid transparent;\n\t\ttransition: all 0.3s;\n\t}\n\n\t.tab-item.active {\n\t\tcolor: #007aff;\n\t\tborder-bottom-color: #007aff;\n\t\tfont-weight: bold;\n\t}\n\n\t/* 帖子列表样式 */\n\t.post-list {\n\t\tpadding: 20rpx;\n\t}\n\n\t.post-item {\n\t\tbackground-color: white;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 24rpx;\n\t\tmargin-bottom: 20rpx;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t/* 帖子头部样式 */\n\t.post-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.user-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.user-avatar {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 20rpx;\n\t}\n\n\t.user-details {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.username {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.post-time {\n\t\tfont-size: 22rpx;\n\t\tcolor: #999;\n\t}\n\n\t/* 帖子内容样式 */\n\t.post-content {\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.post-title {\n\t\tfont-size: 32rpx;\n\t\tcolor: #333;\n\t\tfont-weight: bold;\n\t\tline-height: 1.4;\n\t\tmargin-bottom: 12rpx;\n\t\tdisplay: block;\n\t}\n\n\t.post-desc {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tline-height: 1.5;\n\t\tmargin-bottom: 20rpx;\n\t\tdisplay: block;\n\t}\n\n\t/* 图片展示样式 */\n\t.post-images {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 12rpx;\n\t\tposition: relative;\n\t}\n\n\t.post-image {\n\t\twidth: 200rpx;\n\t\theight: 150rpx;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.post-image.single-image {\n\t\twidth: 300rpx;\n\t\theight: 200rpx;\n\t}\n\n\t.more-images {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\twidth: 200rpx;\n\t\theight: 150rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\tborder-radius: 12rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: white;\n\t\tfont-size: 28rpx;\n\t}\n\n\t/* 互动区域样式 */\n\t.post-actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding-top: 20rpx;\n\t\tborder-top: 1rpx solid #f0f0f0;\n\t}\n\n\t.action-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-right: 40rpx;\n\t\tpadding: 8rpx 0;\n\t}\n\n\t.action-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tmargin-left: 8rpx;\n\t}\n\n\t.action-text.liked {\n\t\tcolor: #ff6b6b;\n\t}\n\n\t/* 发布按钮样式 */\n\t.fab-button {\n\t\tposition: fixed;\n\t\tbottom: 120rpx;\n\t\tright: 40rpx;\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tbackground-color: #007aff;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 122, 255, 0.3);\n\t\tz-index: 999;\n\t}\n</style>","import MiniProgramPage from '/Users/zwc/Documents/HBuilderProjects/hxzyL/pages/community/community.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","reactive","uni","onMounted"],"mappings":"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"}