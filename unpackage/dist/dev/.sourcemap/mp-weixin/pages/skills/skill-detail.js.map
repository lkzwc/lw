{"version":3,"file":"skill-detail.js","sources":["pages/skills/skill-detail.vue","pages/skills/skill-detail.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 加载状态 -->\n\t\t<view class=\"loading-container\" v-if=\"isLoading\">\n\t\t\t<uni-load-more status=\"loading\"></uni-load-more>\n\t\t</view>\n\n\t\t<!-- 技能详情内容 -->\n\t\t<view v-else-if=\"skillDetail._id\">\n\t\t\t<!-- 技能图片轮播 -->\n\t\t\t<view class=\"banner-section\" v-if=\"skillDetail.images && skillDetail.images.length > 0\">\n\t\t\t\t<swiper class=\"swiper-box\" :indicator-dots=\"true\" :autoplay=\"false\" :circular=\"true\">\n\t\t\t\t\t<swiper-item v-for=\"(img, index) in skillDetail.images\" :key=\"index\">\n\t\t\t\t\t\t<image :src=\"img\" mode=\"aspectFill\" class=\"banner-image\" @tap=\"previewImage(index)\"></image>\n\t\t\t\t\t</swiper-item>\n\t\t\t\t</swiper>\n\t\t\t</view>\n\n\t\t\t<!-- 技能基本信息 -->\n\t\t\t<view class=\"info-section\">\n\t\t\t\t<view class=\"skill-header\">\n\t\t\t\t\t<text class=\"skill-title\">{{ skillDetail.title }}</text>\n\t\t\t\t\t<view class=\"price-info\">\n\t\t\t\t\t\t<text class=\"price\">¥{{ skillDetail.price }}</text>\n\t\t\t\t\t\t<text class=\"price-unit\">/{{ skillDetail.priceUnit }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"skill-tags\" v-if=\"skillDetail.tags && skillDetail.tags.length > 0\">\n\t\t\t\t\t<text class=\"tag\" v-for=\"(tag, index) in skillDetail.tags\" :key=\"index\">\n\t\t\t\t\t\t{{ tag }}\n\t\t\t\t\t</text>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"skill-desc\">\n\t\t\t\t\t<text>{{ skillDetail.description }}</text>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"skill-stats\">\n\t\t\t\t\t<view class=\"stat-item\">\n\t\t\t\t\t\t<uni-icons type=\"star-filled\" size=\"16\" color=\"#FFD700\"></uni-icons>\n\t\t\t\t\t\t<text class=\"rating\">{{ skillDetail.rating }}</text>\n\t\t\t\t\t\t<text class=\"review-count\">({{ skillDetail.reviewCount }}评价)</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"publish-time\">发布于 {{ formatDate(skillDetail.createTime) }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 服务提供者信息 -->\n\t\t\t<view class=\"provider-section\">\n\t\t\t\t<view class=\"section-title\">服务提供者</view>\n\t\t\t\t<view class=\"provider-info\">\n\t\t\t\t\t<image :src=\"skillDetail.userAvatar || '/static/default-avatar.png'\" class=\"provider-avatar\" mode=\"aspectFill\"></image>\n\t\t\t\t\t<view class=\"provider-details\">\n\t\t\t\t\t\t<text class=\"provider-name\">{{ skillDetail.username }}</text>\n\t\t\t\t\t\t<view class=\"provider-location\">\n\t\t\t\t\t\t\t<uni-icons type=\"location\" size=\"14\" color=\"#999\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"location-text\">{{ skillDetail.location }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"provider-stats\">\n\t\t\t\t\t\t\t<text class=\"stat\">浏览: {{ skillDetail.viewCount || 0 }}</text>\n\t\t\t\t\t\t\t<text class=\"stat\">评分: {{ skillDetail.rating }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"contact-btn\" @tap=\"showContactModal\">\n\t\t\t\t\t\t<uni-icons type=\"chatbubble\" size=\"16\" color=\"#007aff\"></uni-icons>\n\t\t\t\t\t\t<text>联系</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 相关技能推荐 -->\n\t\t\t<view class=\"related-section\" v-if=\"relatedSkills.length > 0\">\n\t\t\t\t<view class=\"section-title\">相关技能推荐</view>\n\t\t\t\t<scroll-view class=\"related-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\n\t\t\t\t\t<view class=\"related-item\" \n\t\t\t\t\t\tv-for=\"(skill, index) in relatedSkills\" \n\t\t\t\t\t\t:key=\"skill._id\"\n\t\t\t\t\t\t@tap=\"goToSkillDetail(skill._id)\">\n\t\t\t\t\t\t<image :src=\"skill.images && skill.images[0] ? skill.images[0] : '/static/default-skill.png'\" class=\"related-image\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<text class=\"related-title\">{{ skill.title }}</text>\n\t\t\t\t\t\t<text class=\"related-price\">¥{{ skill.price }}/{{ skill.priceUnit }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\n\t\t\t<!-- 底部操作栏 -->\n\t\t\t<view class=\"bottom-bar\">\n\t\t\t\t<view class=\"action-btn collect-btn\" @tap=\"toggleCollect\">\n\t\t\t\t\t<uni-icons :type=\"isCollected ? 'heart-filled' : 'heart'\" size=\"20\" :color=\"isCollected ? '#ff4757' : '#666'\"></uni-icons>\n\t\t\t\t\t<text>{{ isCollected ? '已收藏' : '收藏' }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-btn share-btn\" @tap=\"shareSkill\">\n\t\t\t\t\t<uni-icons type=\"redo\" size=\"20\" color=\"#666\"></uni-icons>\n\t\t\t\t\t<text>分享</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"contact-main-btn\" @tap=\"showContactModal\">\n\t\t\t\t\t<text>立即联系</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 错误状态 -->\n\t\t<view class=\"error-container\" v-else-if=\"!isLoading\">\n\t\t\t<uni-icons type=\"info\" size=\"60\" color=\"#ccc\"></uni-icons>\n\t\t\t<text class=\"error-text\">技能不存在或已下架</text>\n\t\t\t<button class=\"retry-btn\" @tap=\"loadSkillDetail\">重新加载</button>\n\t\t</view>\n\n\t\t<!-- 联系方式弹窗 -->\n\t\t<uni-popup ref=\"contactPopup\" type=\"bottom\">\n\t\t\t<view class=\"contact-modal\">\n\t\t\t\t<view class=\"modal-header\">\n\t\t\t\t\t<text class=\"modal-title\">联系服务提供者</text>\n\t\t\t\t\t<view class=\"close-btn\" @tap=\"closeContactModal\">\n\t\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"contact-options\">\n\t\t\t\t\t<view class=\"contact-option\" @tap=\"makePhoneCall\" v-if=\"skillDetail.phone\">\n\t\t\t\t\t\t<view class=\"option-icon phone-icon\">\n\t\t\t\t\t\t\t<uni-icons type=\"phone\" size=\"24\" color=\"white\"></uni-icons>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"option-info\">\n\t\t\t\t\t\t\t<text class=\"option-title\">电话联系</text>\n\t\t\t\t\t\t\t<text class=\"option-desc\">{{ skillDetail.phone }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"contact-option\" @tap=\"copyWechat\" v-if=\"skillDetail.wechat\">\n\t\t\t\t\t\t<view class=\"option-icon wechat-icon\">\n\t\t\t\t\t\t\t<uni-icons type=\"weixin\" size=\"24\" color=\"white\"></uni-icons>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"option-info\">\n\t\t\t\t\t\t\t<text class=\"option-title\">微信联系</text>\n\t\t\t\t\t\t\t<text class=\"option-desc\">{{ skillDetail.wechat }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"no-contact\" v-if=\"!skillDetail.phone && !skillDetail.wechat\">\n\t\t\t\t\t\t<text>暂无联系方式</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t</view>\n</template>\n\n<script setup>\n\timport { ref, reactive, onMounted } from 'vue';\n\timport { onLoad } from '@dcloudio/uni-app';\n\n\tconst contactPopup = ref(null);\n\tconst isCollected = ref(false);\n\tconst isLoading = ref(true);\n\tconst skillId = ref('');\n\n\t// 技能详情数据\n\tconst skillDetail = reactive({});\n\n\t// 相关技能推荐\n\tconst relatedSkills = reactive([]);\n\n\t// 云对象实例\n\tlet skillsCloudObj = null;\n\n\t// 使用 onLoad 获取页面参数 - 这是 uni-app 推荐的方式\n\tonLoad((options) => {\n\t\tconsole.log('页面加载参数:', options);\n\t\tif (options && options.id) {\n\t\t\tskillId.value = options.id;\n\t\t\tconsole.log('获取到技能ID:', skillId.value);\n\t\t} else {\n\t\t\tconsole.error('未获取到技能ID参数');\n\t\t}\n\t});\n\n\t// 初始化云对象\n\tconst initCloudObj = () => {\n\t\ttry {\n\t\t\tskillsCloudObj = uniCloud.importObject('skills');\n\t\t\tconsole.log('云对象初始化成功');\n\t\t} catch (error) {\n\t\t\tconsole.error('初始化云对象失败:', error);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '服务初始化失败',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t};\n\n\t// 加载技能详情\n\tconst loadSkillDetail = async () => {\n\t\tconsole.log('开始加载技能详情, skillId:', skillId.value);\n\t\t\n\t\tif (!skillId.value) {\n\t\t\tconsole.error('技能ID为空，无法加载详情');\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '技能ID不能为空',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\tisLoading.value = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (!skillsCloudObj) {\n\t\t\tconsole.error('云对象未初始化');\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '服务未初始化',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\tisLoading.value = false;\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tisLoading.value = true;\n\t\t\tconsole.log('调用云对象获取技能详情...');\n\n\t\t\tconst result = await skillsCloudObj.getSkillDetail(skillId.value);\n\t\t\tconsole.log('云对象返回结果:', result);\n\n\t\t\tif (result && result.errCode === 0) {\n\t\t\t\tconsole.log('获取技能详情成功:', result.data);\n\t\t\t\t// 清空原有数据并赋值新数据\n\t\t\t\tObject.keys(skillDetail).forEach(key => {\n\t\t\t\t\tdelete skillDetail[key];\n\t\t\t\t});\n\t\t\t\tObject.assign(skillDetail, result.data);\n\n\t\t\t\t// 加载相关技能推荐\n\t\t\t\tloadRelatedSkills();\n\t\t\t} else {\n\t\t\t\tconsole.error('获取技能详情失败:', result);\n\t\t\t\tconst errorMsg = result?.errMsg || '获取技能详情失败';\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: errorMsg,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('获取技能详情异常:', error);\n\t\t\tconsole.error('异常详情:', error.message, error.stack);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '网络错误，请重试',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t} finally {\n\t\t\tisLoading.value = false;\n\t\t\tconsole.log('技能详情加载流程结束');\n\t\t}\n\t};\n\n\t// 加载相关技能推荐\n\tconst loadRelatedSkills = async () => {\n\t\tif (!skillsCloudObj || !skillDetail.category) {\n\t\t\tconsole.log('跳过相关技能加载，云对象或分类信息缺失');\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconsole.log('开始加载相关技能推荐...');\n\t\t\tconst result = await skillsCloudObj.getSkillsList({\n\t\t\t\tcategory: skillDetail.category,\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 5\n\t\t\t});\n\n\t\t\tif (result && result.errCode === 0) {\n\t\t\t\t// 过滤掉当前技能，只显示其他技能\n\t\t\t\tconst filteredSkills = result.data.list.filter(skill => skill._id !== skillId.value);\n\t\t\t\trelatedSkills.splice(0, relatedSkills.length, ...filteredSkills.slice(0, 4));\n\t\t\t\tconsole.log('相关技能加载成功，数量:', relatedSkills.length);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('获取相关技能失败:', error);\n\t\t}\n\t};\n\n\t// 格式化日期\n\tconst formatDate = (dateStr) => {\n\t\tif (!dateStr) return '';\n\t\t\n\t\tconst date = new Date(dateStr);\n\t\treturn date.toLocaleDateString();\n\t};\n\n\t// 预览图片\n\tconst previewImage = (current) => {\n\t\tif (!skillDetail.images || skillDetail.images.length === 0) return;\n\t\t\n\t\tuni.previewImage({\n\t\t\turls: skillDetail.images,\n\t\t\tcurrent: current\n\t\t});\n\t};\n\n\t// 显示联系方式弹窗\n\tconst showContactModal = () => {\n\t\tif (!skillDetail.phone && !skillDetail.wechat) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '暂无联系方式',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tcontactPopup.value?.open();\n\t};\n\n\t// 关闭联系方式弹窗\n\tconst closeContactModal = () => {\n\t\tcontactPopup.value?.close();\n\t};\n\n\t// 拨打电话\n\tconst makePhoneCall = () => {\n\t\tif (!skillDetail.phone) return;\n\t\t\n\t\tuni.makePhoneCall({\n\t\t\tphoneNumber: skillDetail.phone,\n\t\t\tsuccess: () => {\n\t\t\t\tcloseContactModal();\n\t\t\t},\n\t\t\tfail: (error) => {\n\t\t\t\tconsole.error('拨打电话失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '拨打电话失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\t// 复制微信号\n\tconst copyWechat = () => {\n\t\tif (!skillDetail.wechat) return;\n\t\t\n\t\tuni.setClipboardData({\n\t\t\tdata: skillDetail.wechat,\n\t\t\tsuccess: () => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '微信号已复制',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t\tcloseContactModal();\n\t\t\t},\n\t\t\tfail: (error) => {\n\t\t\t\tconsole.error('复制微信号失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '复制失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\t// 切换收藏状态\n\tconst toggleCollect = async () => {\n\t\tif (!skillsCloudObj) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '服务未初始化',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tif (isCollected.value) {\n\t\t\t\t// 取消收藏\n\t\t\t\tconst result = await skillsCloudObj.uncollectSkill(skillId.value);\n\t\t\t\tif (result.errCode === 0) {\n\t\t\t\t\tisCollected.value = false;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '已取消收藏',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: result.errMsg || '取消收藏失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// 收藏\n\t\t\t\tconst result = await skillsCloudObj.collectSkill(skillId.value);\n\t\t\t\tif (result.errCode === 0) {\n\t\t\t\t\tisCollected.value = true;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '已收藏',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: result.errMsg || '收藏失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('收藏操作失败:', error);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '操作失败，请重试',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t};\n\n\t// 分享技能\n\tconst shareSkill = () => {\n\t\tuni.share({\n\t\t\tprovider: 'weixin',\n\t\t\tscene: 'WXSceneSession',\n\t\t\ttype: 0,\n\t\t\thref: `pages/skills/skill-detail?id=${skillId.value}`,\n\t\t\ttitle: skillDetail.title,\n\t\t\tsummary: skillDetail.description,\n\t\t\timageUrl: skillDetail.images && skillDetail.images[0] ? skillDetail.images[0] : '',\n\t\t\tsuccess: () => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '分享成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t},\n\t\t\tfail: (error) => {\n\t\t\t\tconsole.error('分享失败:', error);\n\t\t\t\t// 降级处理：复制链接\n\t\t\t\tconst shareText = `${skillDetail.title} - ${skillDetail.description}`;\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: shareText,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '内容已复制到剪贴板',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\t// 跳转到技能详情\n\tconst goToSkillDetail = (id) => {\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/skills/skill-detail?id=${id}`\n\t\t});\n\t};\n\n\t// 检查收藏状态 - 暂时禁用，避免报错\n\tconst checkCollectStatus = async () => {\n\t\t// 暂时注释掉收藏状态检查，避免云对象方法调用错误\n\t\tconsole.log('收藏状态检查已暂时禁用');\n\t\treturn;\n\t\t\n\t\t// if (!skillsCloudObj || !skillId.value) {\n\t\t// \treturn;\n\t\t// }\n\n\t\t// try {\n\t\t// \tconst result = await skillsCloudObj.isSkillCollected(skillId.value);\n\t\t// \tif (result.errCode === 0) {\n\t\t// \t\tisCollected.value = result.data.isCollected;\n\t\t// \t}\n\t\t// } catch (error) {\n\t\t// \tconsole.error('检查收藏状态失败:', error);\n\t\t// }\n\t};\n\n\t// 页面挂载时初始化\n\tonMounted(() => {\n\t\tconsole.log('页面挂载，开始初始化...');\n\t\t\n\t\t// 初始化云对象\n\t\tinitCloudObj();\n\t\t\n\t\t// 延迟一下确保 skillId 已经通过 onLoad 设置\n\t\tsetTimeout(() => {\n\t\t\tif (skillsCloudObj && skillId.value) {\n\t\t\t\tconsole.log('开始加载技能详情...');\n\t\t\t\tloadSkillDetail();\n\t\t\t\t// 暂时不检查收藏状态，避免报错\n\t\t\t\t// checkCollectStatus();\n\t\t\t} else {\n\t\t\t\tconsole.log('云对象或技能ID缺失，停止加载');\n\t\t\t\tisLoading.value = false;\n\t\t\t}\n\t\t}, 100);\n\t});\n</script>\n\n<style scoped>\n\t.container {\n\t\tbackground-color: #f5f5f5;\n\t\tmin-height: 100vh;\n\t\tpadding-bottom: 120rpx;\n\t}\n\n\t/* 加载状态 */\n\t.loading-container {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 400rpx;\n\t}\n\n\t/* 轮播图区域 */\n\t.banner-section {\n\t\twidth: 100%;\n\t\theight: 400rpx;\n\t\tbackground-color: white;\n\t}\n\n\t.swiper-box {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.banner-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t/* 技能信息区域 */\n\t.info-section {\n\t\tbackground-color: white;\n\t\tmargin: 20rpx 0;\n\t\tpadding: 30rpx;\n\t}\n\n\t.skill-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.skill-title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tflex: 1;\n\t\tmargin-right: 20rpx;\n\t}\n\n\t.price-info {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\t}\n\n\t.price {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #ff4757;\n\t}\n\n\t.price-unit {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tmargin-left: 4rpx;\n\t}\n\n\t.skill-tags {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.tag {\n\t\tbackground-color: #f0f0f0;\n\t\tcolor: #666;\n\t\tpadding: 8rpx 16rpx;\n\t\tborder-radius: 20rpx;\n\t\tfont-size: 24rpx;\n\t\tmargin-right: 16rpx;\n\t\tmargin-bottom: 10rpx;\n\t}\n\n\t.skill-desc {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tline-height: 1.6;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.skill-stats {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.stat-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.rating {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tmargin-left: 8rpx;\n\t}\n\n\t.review-count {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tmargin-left: 8rpx;\n\t}\n\n\t.publish-time {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t/* 服务提供者区域 */\n\t.provider-section {\n\t\tbackground-color: white;\n\t\tmargin: 20rpx 0;\n\t\tpadding: 30rpx;\n\t}\n\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.provider-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.provider-avatar {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 20rpx;\n\t}\n\n\t.provider-details {\n\t\tflex: 1;\n\t}\n\n\t.provider-name {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.provider-location {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.location-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tmargin-left: 4rpx;\n\t}\n\n\t.provider-stats {\n\t\tdisplay: flex;\n\t\tgap: 20rpx;\n\t}\n\n\t.stat {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.contact-btn {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 16rpx;\n\t\tbackground-color: #f8f8f8;\n\t\tborder-radius: 12rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #007aff;\n\t}\n\n\t/* 相关技能推荐 */\n\t.related-section {\n\t\tbackground-color: white;\n\t\tmargin: 20rpx 0;\n\t\tpadding: 30rpx;\n\t}\n\n\t.related-scroll {\n\t\twhite-space: nowrap;\n\t}\n\n\t.related-item {\n\t\tdisplay: inline-block;\n\t\twidth: 200rpx;\n\t\tmargin-right: 20rpx;\n\t\tvertical-align: top;\n\t}\n\n\t.related-image {\n\t\twidth: 200rpx;\n\t\theight: 150rpx;\n\t\tborder-radius: 12rpx;\n\t\tmargin-bottom: 10rpx;\n\t}\n\n\t.related-title {\n\t\tfont-size: 24rpx;\n\t\tcolor: #333;\n\t\tdisplay: block;\n\t\tmargin-bottom: 8rpx;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.related-price {\n\t\tfont-size: 22rpx;\n\t\tcolor: #ff4757;\n\t\tfont-weight: bold;\n\t}\n\n\t/* 底部操作栏 */\n\t.bottom-bar {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground-color: white;\n\t\tpadding: 20rpx 30rpx;\n\t\tborder-top: 1rpx solid #eee;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 20rpx;\n\t\tz-index: 100;\n\t}\n\n\t.action-btn {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 16rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t}\n\n\t.contact-main-btn {\n\t\tflex: 1;\n\t\tbackground-color: #007aff;\n\t\tcolor: white;\n\t\ttext-align: center;\n\t\tpadding: 24rpx;\n\t\tborder-radius: 50rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t}\n\n\t/* 错误状态 */\n\t.error-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\theight: 400rpx;\n\t\tcolor: #999;\n\t}\n\n\t.error-text {\n\t\tfont-size: 28rpx;\n\t\tmargin: 20rpx 0;\n\t}\n\n\t.retry-btn {\n\t\tbackground-color: #007aff;\n\t\tcolor: white;\n\t\tborder: none;\n\t\tpadding: 20rpx 40rpx;\n\t\tborder-radius: 50rpx;\n\t\tfont-size: 28rpx;\n\t}\n\n\t/* 联系方式弹窗 */\n\t.contact-modal {\n\t\tbackground-color: white;\n\t\tborder-radius: 20rpx 20rpx 0 0;\n\t\tpadding: 40rpx 30rpx 60rpx 30rpx; /* 增加底部内边距 */\n\t\tmin-height: 400rpx; /* 增加最小高度 */\n\t\tmax-height: 80vh; /* 限制最大高度 */\n\t\toverflow-y: auto; /* 允许滚动 */\n\t\tposition: relative;\n\t\tz-index: 1000; /* 确保在最上层 */\n\t}\n\n\t.modal-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 40rpx; /* 增加间距 */\n\t\tpadding-bottom: 20rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0; /* 添加分割线 */\n\t}\n\n\t.modal-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\n\t.close-btn {\n\t\tpadding: 10rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #f8f8f8;\n\t}\n\n\t.contact-options {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 30rpx; /* 增加间距 */\n\t\tpadding-bottom: 40rpx; /* 添加底部内边距 */\n\t}\n\n\t.contact-option {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 40rpx 30rpx; /* 增加内边距 */\n\t\tbackground-color: #f8f8f8;\n\t\tborder-radius: 20rpx; /* 增加圆角 */\n\t\tborder: 2rpx solid transparent;\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.contact-option:active {\n\t\tbackground-color: #e8e8e8;\n\t\tborder-color: #007aff;\n\t\ttransform: scale(0.98);\n\t}\n\n\t.option-icon {\n\t\twidth: 80rpx; /* 增大图标 */\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-right: 30rpx; /* 增加间距 */\n\t\tflex-shrink: 0; /* 防止压缩 */\n\t}\n\n\t.phone-icon {\n\t\tbackground-color: #4cd964;\n\t}\n\n\t.wechat-icon {\n\t\tbackground-color: #1aad19;\n\t}\n\n\t.option-info {\n\t\tflex: 1;\n\t\tmin-width: 0; /* 允许文本截断 */\n\t}\n\n\t.option-title {\n\t\tfont-size: 32rpx; /* 增大字体 */\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 12rpx; /* 增加间距 */\n\t}\n\n\t.option-desc {\n\t\tfont-size: 28rpx; /* 增大字体 */\n\t\tcolor: #666;\n\t\tword-break: break-all; /* 允许换行 */\n\t}\n\n\t.no-contact {\n\t\ttext-align: center;\n\t\tpadding: 80rpx 0; /* 增加内边距 */\n\t\tcolor: #999;\n\t\tfont-size: 32rpx; /* 增大字体 */\n\t}\n\n\t/* 弹窗遮罩层优化 */\n\t.uni-popup__wrapper-box {\n\t\tz-index: 999 !important;\n\t}\n\n\t.uni-popup {\n\t\tz-index: 999 !important;\n\t}\n\n\t/* 确保弹窗不被底部操作栏遮挡 */\n\t.bottom-bar {\n\t\tz-index: 100; /* 降低底部操作栏的层级 */\n\t}\n</style>","import MiniProgramPage from '/Users/zwc/Documents/HBuilderProjects/hxzyL/pages/skills/skill-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","reactive","onLoad","uni","uniCloud","onMounted"],"mappings":"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"}